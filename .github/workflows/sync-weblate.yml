name: Sync Weblate Commits

on:
  push:
    branches:
      - main

jobs:
  check-and-sync:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout code
        uses: actions/checkout@v2

      - name: List Weblate Commits
        id: weblate-commits
        run: |
          git fetch origin
          git branch --show-current
          git checkout remotes/origin/main
          git log -3
          git log --grep="Weblate" main
          COMMITS=$(git log --grep="Weblate" main --format=%H)
          echo "these are the commits $COMMITS"
          BR=$(git branch -a)
          echo "there are the branches $BR"
          